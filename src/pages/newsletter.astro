---
import BaseLayout from "../layouts/BaseLayout.astro";
const substackEmbed = "https://gregorioaugusto.substack.com/embed";
const substackSubscribe = "https://gregorioaugusto.substack.com/subscribe";
---

<BaseLayout title="Newsletter">
  <main class="newsletter">
    <header class="newsletter__head">
      <h1>Suscripci√≥n</h1>
      <p>Recibe ensayos y actualizaciones editoriales directamente en tu bandeja.</p>
    </header>

    <div class="newsletter__layout">
      <!-- Secci√≥n Izquierda: Formulario -->
      <section class="newsletter__main-card">
        <div class="card-content">
          <h2 class="card-title">Suscr√≠bete ahora</h2>
          <p class="card-desc">√önete a la comunidad de lectores. Toma menos de 10 segundos.</p>

          <div class="newsletter__embed" aria-label="Formulario de suscripci√≥n">
            <iframe
              src={substackEmbed}
              width="480"
              height="320"
              style="border:1px solid #333; background:white;"
              frameborder="0"
              scrolling="no"
              title="Suscripci√≥n Substack"
            ></iframe>
          </div>

          <div class="card-footer">
            <p class="card-note">
              ¬øNo carga el formulario?
              <a href={substackSubscribe} target="_blank" rel="noreferrer">Suscr√≠bete directamente aqu√≠</a>.
            </p>
            <a class="back-link" href="/">‚Üê Volver al inicio</a>
          </div>
        </div>
      </section>

      <!-- Secci√≥n Derecha: Beneficios (Qu√© recibir√°s) -->
      <aside class="newsletter__benefits">
        <div class="benefits-card">
          <h3 class="benefits-title">Lo que recibir√°s</h3>
          
          <ul class="benefits-list">
            <li class="benefit-item">
              <span class="benefit-icon">‚úíÔ∏è</span>
              <div class="benefit-text">
                <strong>Ensayos profundos</strong>
                <span>Pol√≠tica, burocracia, t√©cnica y vida p√∫blica.</span>
              </div>
            </li>
            <li class="benefit-item">
              <span class="benefit-icon">üìö</span>
              <div class="benefit-text">
                <strong>Archivo curado</strong>
                <span>Textos recomendados y relecturas esenciales.</span>
              </div>
            </li>
            <li class="benefit-item">
              <span class="benefit-icon">‚ö°</span>
              <div class="benefit-text">
                <strong>Notas breves</strong>
                <span>Avances editoriales y nuevas publicaciones.</span>
              </div>
            </li>
          </ul>

          <div class="benefits-footer">
            <p>Frecuencia: <strong>1‚Äì2 env√≠os por semana</strong> (aprox).</p>
            <p class="privacy-note">Sin spam. Tu correo es privado. Date de baja cuando quieras.</p>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <style>
    /* Variables y Reset */
    :root {
      --bg-premium: #0a0a0a;
      --bg-card: #111111;
      --border-color: #2a2a2a;
      --text-white: #ffffff;
      --text-gray: #a1a1aa;
      --accent-glow: rgba(255, 255, 255, 0.08);
      --font-main: system-ui, -apple-system, sans-serif;
    }

    .newsletter {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px 20px 60px;
      font-family: var(--font-main);
      color: var(--text-white);
    }

    /* Header */
    .newsletter__head {
      text-align: center;
      margin-bottom: 40px;
      color: inherit; /* Hereda del layout base si es oscuro */
    }
    
    /* Aseguramos que el texto fuera de las cards sea legible seg√∫n el tema global */
    :global(body.light) .newsletter__head { color: #111; }
    :global(body.dark) .newsletter__head { color: #fff; }

    .newsletter__head h1 {
      font-size: 2.5rem;
      font-weight: 800;
      letter-spacing: -0.05em;
      margin-bottom: 10px;
    }
    .newsletter__head p {
      font-size: 1.1rem;
      opacity: 0.8;
    }

    /* Layout Grid */
    .newsletter__layout {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 24px;
      align-items: start;
    }

    @media (max-width: 900px) {
      .newsletter__layout { grid-template-columns: 1fr; }
    }

    /* Estilos Comunes de Tarjetas Premium */
    .newsletter__main-card, .benefits-card {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.4);
      color: var(--text-white);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .newsletter__main-card:hover, .benefits-card:hover {
      box-shadow: 0 8px 32px rgba(0,0,0,0.5);
      border-color: #444;
    }

    /* Secci√≥n Izquierda: Formulario */
    .card-title {
      font-size: 1.5rem;
      margin: 0 0 8px;
      font-weight: 700;
    }
    .card-desc {
      color: var(--text-gray);
      margin-bottom: 20px;
    }

    .newsletter__embed {
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    .newsletter__embed iframe {
      width: 100%;
      display: block;
    }

    .card-footer {
      margin-top: 24px;
      border-top: 1px solid var(--border-color);
      padding-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .card-note {
      font-size: 0.9rem;
      color: var(--text-gray);
    }
    .card-note a {
      color: var(--text-white);
      text-decoration: underline;
      text-decoration-thickness: 1px;
      text-underline-offset: 3px;
    }
    
    .back-link {
      display: inline-block;
      color: var(--text-gray);
      text-decoration: none;
      font-size: 0.95rem;
      transition: color 0.2s;
    }
    .back-link:hover {
      color: var(--text-white);
    }

    /* Secci√≥n Derecha: Beneficios - M√°s din√°mica */
    .benefits-title {
      font-size: 1.2rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-gray);
      margin-bottom: 24px;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 12px;
    }

    .benefits-list {
      list-style: none;
      padding: 0;
      display: grid;
      gap: 16px;
    }

    .benefit-item {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding: 16px;
      background: rgba(255,255,255,0.03);
      border-radius: 16px;
      border: 1px solid transparent;
      transition: all 0.2s ease;
    }

    .benefit-item:hover {
      background: rgba(255,255,255,0.06);
      transform: translateY(-2px);
      border-color: rgba(255,255,255,0.1);
    }

    .benefit-icon {
      font-size: 1.5rem;
      line-height: 1;
      padding-top: 2px;
    }

    .benefit-text {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .benefit-text strong {
      font-size: 1.05rem;
      color: var(--text-white);
    }
    .benefit-text span {
      font-size: 0.9rem;
      color: var(--text-gray);
      line-height: 1.4;
    }

    .benefits-footer {
      margin-top: 32px;
      font-size: 0.9rem;
      color: var(--text-gray);
      background: rgba(0,0,0,0.2);
      padding: 16px;
      border-radius: 12px;
    }
    .benefits-footer p { margin: 4px 0; }
    .privacy-note {
      font-size: 0.8rem;
      opacity: 0.7;
      margin-top: 8px;
    }

  </style>
</BaseLayout>





